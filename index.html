<!--
ÂÆô„ÅÆËæª - Sora no Tsuji
Copyright (c) 2026 Sora no Tsuji Project
Released under the MIT License.
-->
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÂÆô„ÅÆËæª (Sora no Tsuji)</title>
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/>

    <link rel="stylesheet" href="style.css">

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>

    <script src="https://cdn.jsdelivr.net/npm/astronomy-engine@2.1.19/astronomy.browser.min.js"></script>
</head>
<body>

    <div id="map"></div>

    <div id="elevation-panel" class="hidden">
        <canvas id="elevation-canvas"></canvas>
        <div id="elevation-info">Start -> End (100mÈñìÈöî)</div>
        
        <div id="progress-overlay" class="hidden">
            <div class="progress-label">„Éá„Éº„ÇøÂèñÂæó‰∏≠... <span id="progress-text">0%</span></div>
            <div class="progress-track">
                <div id="progress-bar"></div>
            </div>
        </div>
    </div>

    <div id="control-panel" class="control-panel minimized">
        <div class="panel-header" onclick="togglePanel()">
            <span id="header-title">ÂÆô„ÅÆËæª<span class="header-subtitle"> - Sora no Tsuji</span></span>
            <span id="toggle-icon">‚ñº</span>
        </div>
    
        <div id="panel-content" class="panel-content">
            
            <div class="section">
                <div class="section-header" onclick="toggleSection('sec-location')">
                    <span>‰ΩçÁΩÆÊÉÖÂ†±</span> <span id="icon-sec-location">‚ñ≤</span>
                </div>
                <div id="sec-location" class="section-content">
                    
                    <div class="control-row">
                        <div class="btn-group-left">
                            <button id="btn-gps" class="nav-btn small" title="ÁèæÂú®Âú∞„ÇíÂèñÂæó">GPS</button>
                            <input type="radio" name="loc-mode" id="radio-start" value="start" checked>
                        </div>
                        <label class="input-label">Ë¶≥Ê∏¨ÁÇπ:</label>
                        <input type="text" id="input-start-latlng" placeholder="Á∑ØÂ∫¶,ÁµåÂ∫¶ „Åæ„Åü„ÅØ Âú∞Âêç">
                    </div>

                    <div class="control-row">
                        <div class="spacer-group"></div>
                        <label class="input-label">Ë¶≥Ê∏¨ÁÇπÈ´ò:</label>
                        <input type="number" id="input-start-elev" placeholder="Ê®ôÈ´ò m" step="0.1">
                    </div>

                    <div class="control-row">
                        <div class="btn-group-left">
                            <button id="btn-dp" class="nav-btn small" title="D/P„É©„Ç§„É≥Ë°®Á§∫">D/P</button>
                            <input type="radio" name="loc-mode" id="radio-end" value="end">
                        </div>
                        <label class="input-label">ÁõÆÁöÑÂú∞:</label>
                        <input type="text" id="input-end-latlng" placeholder="Á∑ØÂ∫¶,ÁµåÂ∫¶ „Åæ„Åü„ÅØ Âú∞Âêç">
                    </div>

                    <div class="control-row">
                        <div class="spacer-group"></div>
                        <label class="input-label">ÁõÆÁöÑÂú∞È´ò:</label>
                        <input type="number" id="input-end-elev" placeholder="Ê®ôÈ´ò m" step="0.1">
                    </div>

                    <div class="control-row">
                        <button id="btn-elevation" class="nav-btn" style="width: 100%;">‚õ∞ Ê®ôÈ´ò„Ç∞„É©„ÉïË°®Á§∫</button>
                    </div>
                </div>
            </div>

            <div class="section">
                <div class="section-header" onclick="toggleSection('sec-datetime')">
                    <span>Êó•ÊôÇË®≠ÂÆö</span> <span id="icon-sec-datetime">‚ñ≤</span>
                </div>
                <div id="sec-datetime" class="section-content">
                    <div class="control-row">
                        <button id="btn-now" class="nav-btn small">Now</button>
                        <button id="btn-month-prev" class="nav-btn">‚óÄ‚óÄ</button>
                        <button id="btn-date-prev" class="nav-btn">‚óÄ</button>
                        <input type="date" id="date-input">
                        <button id="btn-date-next" class="nav-btn">‚ñ∂</button>
                        <button id="btn-month-next" class="nav-btn">‚ñ∂‚ñ∂</button>
                    </div>

                    <div class="control-row">
                        <button id="btn-move" class="nav-btn small">Mov</button>
                        <button id="btn-hour-prev" class="nav-btn">‚óÄ‚óÄ</button>
                        <button id="btn-time-prev" class="nav-btn">‚óÄ</button>
                        <input type="time" id="time-input" value="12:00">
                        <button id="btn-time-next" class="nav-btn">‚ñ∂</button>
                        <button id="btn-hour-next" class="nav-btn">‚ñ∂‚ñ∂</button>
                    </div>

                    <input type="range" id="time-slider" min="0" max="1439" step="1" value="720">
                    
                    <div class="shortcuts">
                        <div class="shortcut-item">
                            <input type="radio" name="time-jump" id="jump-sunrise" value="sunrise">
                            <label for="jump-sunrise">üåûÊó•„ÅÆÂá∫ <span id="time-sunrise">--:--</span></label>
                        </div>
                        <div class="shortcut-item">
                            <input type="radio" name="time-jump" id="jump-sunset" value="sunset">
                            <label for="jump-sunset">üåûÊó•„ÅÆÂÖ• <span id="time-sunset">--:--</span></label>
                        </div>
                        <div class="shortcut-item">
                            <input type="radio" name="time-jump" id="jump-moonrise" value="moonrise">
                            <label for="jump-moonrise">üåõÊúà„ÅÆÂá∫ <span id="time-moonrise">--:--</span></label>
                        </div>
                        <div class="shortcut-item">
                            <input type="radio" name="time-jump" id="jump-moonset" value="moonset">
                            <label for="jump-moonset">üåõÊúà„ÅÆÂÖ• <span id="time-moonset">--:--</span></label>
                        </div>
                    </div>

                    <div class="control-row moon-row">
                        <button id="btn-moon-prev" class="nav-btn">‚óÄ</button>
                        <div class="moon-display">
                            <label>ÊúàÈΩ¢</label>
                            <input type="number" id="moon-age-input" step="0.1" min="0" max="29.5">
                            <span id="moon-icon" class="moon-icon">üåë</span>
                        </div>
                        <button id="btn-moon-next" class="nav-btn">‚ñ∂</button>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <div class="section-header" onclick="toggleSection('sec-mystar')">
                    <span>MyÂ§©‰Ωì</span> <span id="icon-sec-mystar">‚ñ≤</span>
                </div>
                <div id="sec-mystar" class="section-content">
                    <div class="control-row">
                        <button id="btn-mystar-reg" class="nav-btn small">ÁôªÈå≤</button>
                        <input type="text" id="input-mystar-radec" placeholder="Ëµ§Áµå,Ëµ§Á∑Ø">
                    </div>
                    <div class="celestial-list" style="margin-top: 5px; border-bottom: none;">
                        <li style="border-bottom: none; padding-bottom: 0;">
                            <input type="checkbox" id="chk-mystar" class="body-checkbox">
                            <div id="style-MyStar" class="style-indicator solid" style="color: #DDA0DD;" onclick="openPalette('MyStar')"></div>
                            <div class="body-info">
                                <span class="body-name">MyÂ§©‰Ωì</span>
                                <span id="data-MyStar" class="body-detail-text">--:--</span>
                            </div>
                        </li>
                    </div>
                </div>
            </div>
    
            <div class="section">
                <div class="section-header" onclick="toggleSection('sec-bodies')">
                    <span>Ë°®Á§∫Â§©‰Ωì</span> <span id="icon-sec-bodies">‚ñ≤</span>
                </div>
                <div id="sec-bodies" class="section-content">
                    <ul id="celestial-list" class="celestial-list"></ul>
                </div>
            </div>

            <div class="panel-footer">
                &copy; 2026 Sora no Tsuji Project
            </div>
        </div>
    </div>
    
    <div id="style-palette" class="style-palette hidden">
        <div class="palette-header">„Çπ„Çø„Ç§„É´Ë®≠ÂÆö <span class="close-palette" onclick="closePalette()">√ó</span></div>
        <div class="palette-colors" id="palette-colors"></div>
        <div class="palette-lines" id="palette-lines">
            <div class="line-option" onclick="applyLineStyle('solid')">ÂÆüÁ∑ö <span class="line-preview solid"></span></div>
            <div class="line-option" onclick="applyLineStyle('dashed')">Á†¥Á∑ö <span class="line-preview dashed"></span></div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>